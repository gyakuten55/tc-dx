# 株式会社ティーシー 業務管理システム

PyQt6を使用した業務管理システムです。案件管理、作業員管理、取引先管理、業務指示書作成、統計情報表示などの機能を提供します。

## 機能一覧

### 主要機能
- **案件管理**: 案件の登録、編集、削除、検索
- **取引先マスター**: 取引先情報の管理
- **作業員マスター**: 作業員情報の管理  
- **サービスマスター**: サービス情報の管理
- **業務指示書**: 業務指示書の作成、編集、PDF出力、印刷
- **統計情報**: 売上統計、トラブル統計、前年度比較

### 権限管理
- **管理者**: 全機能にアクセス可能
- **一般ユーザー**: 案件管理と業務指示書機能のみアクセス可能

## システム要件

- Python 3.8以上
- Windows 10/11

## インストール方法

### 1. 依存関係のインストール
```bash
pip install -r requirements.txt
```

### 2. アプリケーションの実行
```bash
python main.py
```

## 初期ログイン情報

### 管理者アカウント
- ユーザーID: `0001`
- パスワード: `0526`

### 一般ユーザーアカウント  
- ユーザーID: `1001`
- パスワード: `1111`

## 主要な依存関係

- PyQt6==6.5.0 (GUI フレームワーク)
- matplotlib==3.7.1 (グラフ描画)
- reportlab==3.6.12 (PDF生成)
- mplcursors==0.5.2 (グラフのホバー表示)
- Pillow==9.5.0 (画像処理)

## ファイル構成

```
├── main.py                 # メインエントリーポイント
├── main_window.py          # メインウィンドウ
├── models.py              # データベースモデル
├── styles.py              # スタイル管理
├── components.py          # 共通コンポーネント
├── requirements.txt       # 依存関係
├── tabs/                  # タブコンポーネント
│   ├── clients_tab.py     # 取引先管理
│   ├── workers_tab.py     # 作業員管理
│   ├── services_tab.py    # サービス管理
│   ├── projects_tab.py    # 案件管理
│   ├── work_orders_tab.py # 業務指示書管理
│   └── statistics_tab.py  # 統計情報
├── dialogs/               # ダイアログ
│   ├── login_dialog.py    # ログインダイアログ
│   ├── work_order_dialog.py # 業務指示書ダイアログ
│   └── photo_viewer_dialog.py # 写真表示ダイアログ
└── resources/             # リソースファイル（自動作成）
```

## 使用方法

### 1. 案件管理
- 新規案件の登録
- 既存案件の編集・削除
- 案件検索とフィルタリング
- 作業員の割り当て
- 写真の添付

### 2. 業務指示書
- 案件ベースまたは新規での業務指示書作成
- PDF出力機能
- 印刷機能
- プレビュー機能

### 3. 統計情報（管理者のみ）
- 売上目標設定
- 前年度比較グラフ
- サービス別売上統計
- トラブル統計
- 価格統計

## データベース

SQLiteデータベース（`tc_management.db`）を使用してデータを管理します。
初回起動時に自動的にテーブルが作成されます。

## 注意事項

- 初回起動時にリソースディレクトリが自動作成されます
- 案件写真は`resources/project_photos/`に保存されます
- PDF出力には日本語フォントが必要です（自動設定）

## ライセンス

© 2025 株式会社ティーシー

## サポート

システムに関するお問い合わせは開発者までご連絡ください。 